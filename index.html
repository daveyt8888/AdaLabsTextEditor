<html>
	<head>
		<title>Collaborative Text Editor</title>
		
		<!--jQuery-->
		<link rel="stylesheet" href="jquery-ui.css" type="text/css"/>	
		<script src="jquery.js"></script>
		<script src="jquery-ui.js"></script>
		<script>	
			$(function(){
				$("#tabs").tabs();
				
				//waiting for key to be pressed to execute
				
				$('#textarea').on('keypress', function(event){ //Use keypress to obtain charCode
					//Internet Explorer
					/*var position = 0;
					
					if (document.selection){
				
						element.focus();
						var Sel = document.selection.createRange();
				
						Sel.moveStart('character', -element.value.length);
				
						position = Sel.text.length;
					}*/
					
					
					//Firefox
					element = document.getElementById("textarea");
					
					var toDisplay = "Action/Position/Character<br>";
				
					if(event.keyCode==8 || event.keyCode==46){
						var action = "Delete";
					}else{
						var action = "Insert";
						var character = String.fromCharCode(event.charCode);
					}
					
					toDisplay += action + "/" + element.selectionStart + "/" + character;
					$('#divDisplay').html(toDisplay);
				});
			});
		</script>
	</head>

	<body>	
		<div id="tabs">
			<ul>
				<li><a href="#tabs-1">Textarea</a></li>
				<li><a href="#tabs-2">Div</a></li>
			</ul>

			<div id="tabs-1">
				<textarea id="textarea" cols="100" rows="20"></textarea>	
			</div>

			<div id="tabs-2">
				<div id="div" contentEditable="true"> </div>
			</div>	
		</div>

<!-- For displaying action, position, character -->
        <div id = "divDisplay"></div>		
	</body>
</html>